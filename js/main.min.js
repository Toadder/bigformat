function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function _removeClass(e,t){for(let n of e)n.classList.remove(t)}function _addClass(e,t){for(let n of e)n.classList.add(t)}function ymap(){let e=document.querySelector(".map");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[55.9823072874419,92.89464922321378],zoom:16,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([55.98332756875584,92.89800849999992],{hintContent:"BIGFORMAT"},{iconLayout:"default#image",iconImageHref:"img/marker.svg",iconImageSize:[75,92],iconImageOffset:[-40,-95]});function n(){window.innerWidth<"767"?e.setCenter([55.98365058108414,92.89771761825823]):window.innerWidth<"992"?e.setCenter([55.9836064830893,92.89366217029631]):e.setCenter([55.9823072874419,92.89464922321378])}n(),e.geoObjects.add(t),window.onresize=function(){n()}}))}function n(){let o=e.getBoundingClientRect().top,i=window.pageYOffset,r=o+i;i+window.innerHeight>r&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",n))}window.addEventListener("scroll",n),n()}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function emailTest(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}function popup(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");r(document.getElementById(t)),e.preventDefault()}))}const i=document.querySelectorAll(".close-popup");if(i.length>0)for(let e=0;e<i.length;e++){const t=i[e];t.addEventListener("click",(function(e){s(t.closest(".popup")),e.preventDefault()}))}function r(e){if(e&&o){const i=document.querySelector(".popup._open");i?s(i,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++){n[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.add("_lock"),o=!1,setTimeout((function(){o=!0}),800)}(),e.classList.add("_open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}function s(e,i=!0){o&&(e.classList.remove("_open"),i&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("_lock")}),800),o=!1,setTimeout((function(){o=!0}),800)))}document.addEventListener("keydown",(function(e){if(27===e.which){s(document.querySelector(".popup._open"))}}))}function phoneMask(){let e=document.querySelectorAll("input[data-tel-input]");for(let t of e)t.addEventListener("keydown",i),t.addEventListener("input",o,!1),t.addEventListener("paste",n,!1);function t(e){return e.value.replace(/\D/g,"")}function n(e){let n=e.target,o=t(n),i=e.clipboardData||window.clipboardData;if(i){let e=i.getData("Text");if(/\D/g.test(e))return void(n.value=o)}}function o(e){let n=e.target,o=t(n),i=n.selectionStart,r="";if(!o)return n.value="";if(n.value.length==i){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);let e="8"==o[0]?"8":"+7";r=n.value=e+" ",o.length>1&&(r+="("+o.substring(1,4)),o.length>=5&&(r+=") "+o.substring(4,7)),o.length>=8&&(r+="-"+o.substring(7,9)),o.length>=10&&(r+="-"+o.substring(9,11))}else r="+"+o.substring(0,16);n.value=r}else e.data&&/\D/g.test(e.data)&&(n.value=o)}function i(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}}jQuery(document).ready((function(e){if(phoneMask(),ymap(),popup(),window.matchMedia("(max-width: 800px)").matches){const t=e(".about__bullets");e(".about__block").append(t),e(".about__content").remove(t)}!function(){function t(){let n=document.querySelector(".step").getBoundingClientRect().top,o=window.pageYOffset;o-window.innerHeight>n&&(!function(){let t=document.querySelectorAll(".item-step"),n=0,o=setInterval(()=>{if(n>=t.length)clearInterval(o),setTimeout(()=>{e(".step__title").text(e(".step__title").data("text"))},1500);else{let o=t[n],i=+o.querySelector(".item-step__number").innerHTML,r=o.querySelector(".item-step__text").innerHTML;o.querySelector(".item-step__number").classList.add("_hovered"),e(".step__number span").text(i),e(".step__title").text(r),n++}},1500)}(),window.removeEventListener("scroll",t))}isMobile.any()?(window.addEventListener("scroll",t),t()):(e(".item-step__number").mouseenter((function(t){if(!e(this).hasClass("_hovered")){const t=+e(this).text(),n=e(this).next().text(),o=e(this).parent().index()+1;e(".item-step").slice(0,o).find(".item-step__number").addClass("_hovered"),e(".step__number span").text(t),e(".step__title").text(n)}})),e(".item-step__number").mouseleave((function(t){e(".item-step__number").removeClass("_hovered"),e(".step__number span").text(document.querySelectorAll(".item-step").length),e(".step__title").text(e(".step__title").data("text"))})))}(),e("._card-popup").click((function(t){const n=e(this).find("._card-popup__title").text(),o=e(this).find("._card-popup__text").html(),i=e(this).find("._card-popup__img img").attr("src").split(".");e(".popup-info__title").text(n),e(".popup-info__text").html(o),e(".popup-info__img source").attr("srcset",i[0]+"-big.webp"),e(".popup-info__img img").attr("src",`${i[0]}-big.${i[1]}`)})),function(){const e=document.querySelectorAll("form");for(var t=0;t<e.length;t++)form=e[t],form.addEventListener("submit",n);async function n(e){e.preventDefault();let t=e.currentTarget;(function(e){let t=0,n=e.querySelectorAll("._req");for(var o=0;o<n.length;o++){const e=n[o];formRemoveError(e),e.classList.contains("_email")?emailTest(e)||(formAddError(e),t++):""==e.value&&(formAddError(e),t++)}})(t),new FormData(t)}}(),function(){let t=e(window).width()<=767?8:e(window).width()<=1200?9:10;e(".card-suggest").slice(0,t).css("display","flex");let n=!0;e(".suggest__btn").click((function(o){o.preventDefault(),n?(e(".card-suggest:hidden").slice(0).fadeIn().css("display","flex"),e(this).html("Свернуть"),n=!1):(e(".card-suggest").slice(t).fadeOut().css("display","flex"),e(this).html("Показать все"),n=!0)}))}(),e(".card-suggest").click((function(t){let n=e(this).children(".card-suggest__title").text().toLowerCase();e(".special__sale").text(e(".special__sale").data("text")+n)})),new Swiper(".card-service__slider._design",{allowTouchMove:!0,speed:800,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},observer:!0,observeParents:!0,observer:!0,observeSlideChildren:!0,navigation:{nextEl:".card-service__next_design",prevEl:".card-service__prev_design"}}),new Swiper(".card-service__slider._montage",{allowTouchMove:!0,speed:800,loop:!0,effect:"fade",observer:!0,observeParents:!0,observer:!0,fadeEffect:{crossFade:!0},observeSlideChildren:!0,navigation:{nextEl:".card-service__next._montage",prevEl:".card-service__prev._montage"}}),new Swiper(".card-service__slider._production",{allowTouchMove:!0,speed:800,loop:!0,effect:"fade",observer:!0,observeParents:!0,observer:!0,fadeEffect:{crossFade:!0},observeSlideChildren:!0,navigation:{nextEl:".card-service__next._production",prevEl:".card-service__prev._production"}}),new Swiper(".about__slider",{allowTouchMove:!0,loopPreventsSlide:!0,slidesPerView:1,speed:800,loop:!0,autoplay:!0,delay:3650,effect:"fade",fadeEffect:{crossFade:!0},autoHeight:!0,pagination:{el:".about__bullets",type:"bullets",clickable:!0}}),new Swiper(".slider-letter",{slidesPerView:3,allowTouchMove:!1,speed:600,centeredSlides:!0,loop:!0,preventClicks:!1,preventClicksPropagation:!1,effect:"coverflow",coverflowEffect:{rotate:0,stretch:100,depth:200,modifier:3,slideShadows:!1},navigation:{nextEl:".letter__next",prevEl:".letter__prev"},pagination:{el:".letter__bullets",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,centeredSlides:!1,effect:"slide",spaceBetween:10},768:{slidesPerView:3,centeredSlides:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:100,depth:200,modifier:3,slideShadows:!1}}}}),e(".service__tab").click((function(){e(".card-service").removeClass("_active"),e(".service__tab").removeClass("_active"),e(this).addClass("_active"),e(".card-service").eq(e(this).index()).addClass("_active")})),e(".bottom-header__burger").click((function(t){e(".mobile-header").addClass("_active"),e("body").addClass("_lock")})),e(".mobile-header__close svg").click((function(t){e(".mobile-header").removeClass("_active"),e("body").removeClass("_lock")})),e(".top-header__city").click((function(t){e(".top-header__city").next(".top-header__cities").toggleClass("_active")})),document.body.addEventListener("click",(function(t){e(t.target).closest(".top-header__location").length||e(".top-header__cities").removeClass("_active")})),e(".top-header__cities-item").click((function(t){const n=e(this).text();e(".top-header__cities-item").removeClass("_active"),e(this).addClass("_active"),e(".top-header__city .top-header__city-name").text(n),e()})),document.querySelectorAll("a._anchor-scroll").length&&e("a._anchor-scroll").on("click",(function(t){t.preventDefault();let n=e(this).attr("href");if(e(".mobile-header").removeClass("_active"),e("body").removeClass("_lock"),e(this).data("tab")){let t=e(this).data("tab");e(".service__tab").removeClass("_active"),e(".service__tab."+t).addClass("_active"),e(".service__card").removeClass("_active"),e(".service__card").eq(e(".service__tab."+t).index()).addClass("_active")}e("html, body").stop().animate({scrollTop:e(n).offset().top-e(".header").outerHeight()},1e3)}))}));